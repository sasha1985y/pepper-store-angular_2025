# React
- React — UI-библиотека. Она отвечает только за отрисовку
- Для решения других задач используются фреймворки
  - Next.js
  - Expo
  - React Router v7
  - или самописный набор, например, все инструменты от TanStack (Router, Request, Form) + Vite + Redux

## Next.js
> Фреймворк диктует архитектуру приложения. 
> В каждый фреймворк зашит определенный механизм взаимодействия пользователя и клиента

Next.js                         TanStack
===============================================
  SSR                              CSR
File-based router (Server) | Clent-side routing (index.html)
Server Side Request        | Client-side request
(data)
(token)                      (token)
Indexable                  | ????

Reducer (Redux)            | RTK

> За счет того, что React сейчас живет в функциональном мире, вся остальная архитектура тоже пишется в этом же стиле

- интерфейс модулей описывается через import/export
- содержимое модуля — в основном функции

# Angular
- Angular — это полноценный фреймворк
- Основной стиль проектирования в Angular — OOP
  - Это значит, что каждый UI компонент описывается с помощью класса
  - Это значит, что взаимодействие разных компонент тоже описывается с помощью классов
  - Получается, что вся структура приложения описывается как набор взаимодействующих классов

Паттерн проектирования: MV*
- Часть модулей в приложении отвечает за отображение (Component) — такие модули называются View (Отображение)
- Другая часть модулей в приложении отвечает за работу с данными — такие модули мы называем Model (Модель)

- Model (в React-мире это Reducer)
- View (компонент Button)

Что такое звездочка в MV*? Это один из способов налаживания взаимодействия между View и Model
- **Controller**
  - создает модель
  - создает вью
  - передает модель внутрь View
    - вью самостоятельно подписывается на изменения внутри себя и сам взамиодействует с переданной моделью
    - вью самостоятельно подписывается на изменения в модели и сам себя обновляет когда она обновится

- **Presenter**
  - создает модель
  - создает вью
  - подписывается на изменения в модели
  - подписывается на изменения в вью
  - обновляет вью когда изменилась модель
  - обновляет модель, когда изменился вью

- **ViewModel** (AngularJS aka Angular 1.0)
  - создает модель
  - создает вью
  - создает набор функций, которые называются data-binding, которые описывают как именно между собой общаются модель и отображение

Если добавить к этому зоопарку букву H, то все эти взаимодействия становятся иерархическими. Это значит, что внутри контроллера, могут создаваться более мелкие контроллеры, которые отвечают за отдельные куски приложения и они общаются с более мелкими моделями

Global Controller — Global Model + Global View
  - Cart Controller — Cart Model + Cart View
  - Local User Controller — Local User Model + Local User View

```
Online Shop
  - cart — Model
  - user data — Model
  - local user data — Model
  - shop data — Model
```

## Связывание MV внутри Angular
- Angular не использует в чистом виде MVP, MVC, MVVM
  - Во-первых существует иерархия шаблонов
  - Во-вторых, не существует единственного правильного способа написать Controller, Presenter чтобы это всех устроило

- V — Components
- S — Services — сервис в терминах ангуляра — это любой класс, который используется вне компонента (View) для передачи ему данных снаружи
  - кастомный сервис
  - HttpService

  - сервис всегда незвисимый от контекста и он ничего не знает ни про компоненты, ни про то, где он будет использоваться, у него чистая внутренняя логика
  - за счет того, что сервис всегда незаивисим и абстрактен, основная логика по его использованию ложится на компоненты (Компоненты становятся умными)
  - компонент, каким-то образом должен быть осведомлен о том, какими сервисами он пользуется
  - для того, чтобы "рассказать" компоненту о его сервисах используется подход, который называется Dependency Injection
    - Dependency Injection — это когда мы передаем объект, которым будет пользоваться другой объект как параметр
  - каждый сервис должен быть Singleton
  - и то и другое достигается за счет того, что сервис создается с директивой @Injectable

Синглтон — это объект, который существует гарантированно только в одном экземпляре

```
@Injectable({
  providedIn: "root",
})
class Logger {
  showMessages() {

  }

  log() {

  }
}

SaveButton {
  onClick() {
    this.logger.log("user saved data");
  }
}

DeleteButton {
  onClick {
    this.logger.log("user was deleted");
  }
}
```

- user saved data
- user saved data
- user was deleted
- user saved data
- user saved data
- user was deleted
- user was deleted
- user was deleted
- user saved data



